# Vello Sparse Strips Reference Images

Reference images from Vello's **sparse strips** CPU rasterizer (`vello_common/src/strip.rs`).

## Source

Images copied from `sparse_strips/vello_sparse_tests/snapshots/` in the
upstream Vello repository (linebender/vello).

**IMPORTANT**: These are generated by the **sparse strips** algorithm
(`vello_common::StripGenerator` → `vello_common::strip::render()`),
which is a DIFFERENT rasterizer from `vello_shaders/src/cpu/`
(path_count → path_tiling → fine pipeline).

## Usage

- **velloport** (port of `vello_shaders/src/cpu/`): Uses these for cross-algorithm
  comparison. Expected diff ~2-3% due to algorithmic differences.
- **TileRasterizer** (legacy): Uses these with higher thresholds (~5-10%).

## Test Scenes

| File | Shape | Size | Color | Fill Rule |
|------|-------|------|-------|-----------|
| `filled_circle.png` | Circle(50,50) r=45 | 100x100 | LIME #00FF00 | NonZero |
| `filled_triangle.png` | Triangle (5,5)→(95,50)→(5,95) | 100x100 | LIME #00FF00 | NonZero |
| `filling_nonzero_rule.png` | 5-point star | 100x100 | MAROON #800000 | NonZero |
| `filling_evenodd_rule.png` | 5-point star | 100x100 | MAROON #800000 | EvenOdd |

All images: WHITE background (#FFFFFF), RGBA8 format.

## Current Results — velloport (2026-02-24)

| Scene | Diff | Notes |
|-------|------|-------|
| filled_circle | 3.80% | Curve flattening diff (EdgeBuilder vs kurbo) |
| filled_triangle | 0.90% | Edge AA precision diff |
| filling_nonzero_rule | 2.03% | Cross-algorithm edge AA diff |
| filling_evenodd_rule | 2.59% | Cross-algorithm edge AA diff |

## Upstream References

- Test code: `sparse_strips/vello_sparse_tests/tests/basic.rs`
- Rasterizer: `sparse_strips/vello_common/src/strip.rs`
- Path util: `sparse_strips/vello_sparse_tests/tests/util.rs` (crossed_line_star)

---

*Updated: 2026-02-24*
